{"version":3,"sources":["components/Content/Users/style.module.css","components/Content/Users/UsersHeader/style.module.css","components/Content/Users/UsersContent/style.module.css","components/Content/Users/UsersContent/User/style.module.css","components/Content/Users/UsersContent/User/Button/style.module.css","components/Content/Users/UsersFooter/style.module.css","components/common/Paginator/style.module.css","redux/usersSelectors.js","components/Content/Users/UsersHeader/index.jsx","components/Content/Users/UsersContent/User/Button/index.jsx","components/Content/Users/UsersContent/User/index.jsx","components/Content/Users/UsersContent/index.jsx","components/common/Paginator/index.jsx","components/Content/Users/UsersFooter/index.jsx","components/Content/Users/index.jsx","components/Content/Users/indexContainer.jsx"],"names":["module","exports","getUsers","state","usersPage","users","getCount","count","getCurrentPage","currentPage","getTotalCount","totalCount","getIsFetching","isFetching","getIsFollowing","isFollowing","UsersHeader","className","css","container","title","people","amount","Preloader","type","Button","isDisabled","handleClick","disabled","onClick","btn","User","user","photos","unfollow","follow","photo","Avatar","img","small","size","pageRef","id","info","name","status","button","includes","followed","UsersContent","usersList","map","key","connect","portionNumber","setPortionNumber","handlePageNumClick","portionSize","pagesAmount","Math","ceil","pagesNumbers","i","push","portionsAmount","leftBorderPagesNumbers","rigthBorderPagesNumbers","pages","filter","number","page","activePage","pagesNumbersBox","UsersFooter","usersFooter","Users","props","mdtp","setCurrentPage","requireUsers","compose","withAuthRedirect","useEffect"],"mappings":"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","file":"static/js/3.a4dbe422.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"style_users__3F1ep\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__3U-ov\",\"title\":\"style_title__FR9Jf\",\"amount\":\"style_amount__2tNHi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1jHzE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"style_user__kP8k7\",\"photo\":\"style_photo__3DXEr\",\"info\":\"style_info__2WRcA\",\"name\":\"style_name__3CnrT\",\"status\":\"style_status__1QdEo\",\"button\":\"style_button__2X2Zs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"style_btn__os8mj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersFooter\":\"style_usersFooter__2QM6M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagesNumbersBox\":\"style_pagesNumbersBox__UxS9h\",\"page\":\"style_page__3Zfyd\",\"activePage\":\"style_activePage__2U3lD\"};","export const getUsers = state => {\r\n  return state.usersPage.users;\r\n};\r\nexport const getCount = state => {\r\n  return state.usersPage.count;\r\n};\r\nexport const getCurrentPage = state => {\r\n  return state.usersPage.currentPage;\r\n};\r\nexport const getTotalCount = state => {\r\n  return state.usersPage.totalCount;\r\n};\r\nexport const getIsFetching = state => {\r\n  return state.usersPage.isFetching;\r\n};\r\nexport const getIsFollowing = state => {\r\n  return state.usersPage.isFollowing;\r\n};\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport Preloader from \"../../../common/Preloader\";\r\n\r\nconst UsersHeader = ({ totalCount, isFetching }) => {\r\n  return (\r\n    <div className={css.container}>\r\n      <div className={css.title}>\r\n        <span className={css.people}>Люди</span>\r\n        <span className={css.amount}>{totalCount}</span>\r\n        <span>{isFetching && <Preloader type=\"dotted\" />}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersHeader;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nconst Button = ({ isDisabled, handleClick, title }) => {\r\n  return (\r\n    <button disabled={isDisabled} onClick={handleClick} className={css.btn}>\r\n      {title}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport Avatar from \"../../../../common/Avatar\";\r\nimport Button from \"./Button/index\";\r\n\r\nconst User = ({ user = { photos: null }, isFollowing, unfollow, follow }) => {\r\n  return (\r\n    <div className={css.user}>\r\n      <div className={css.photo}>\r\n        <Avatar\r\n          img={user.photos.small !== null ? user.photos.small : null}\r\n          size=\"80,80\"\r\n          pageRef={`/profile/${user.id}`}\r\n        />\r\n      </div>\r\n\r\n      <div className={css.info}>\r\n        <span className={css.name}>{user.name}</span>\r\n        <span className={css.status}>{user.status}</span>\r\n      </div>\r\n\r\n      <div className={css.button}>\r\n        <Button\r\n          isDisabled={isFollowing.includes(user.id)}\r\n          handleClick={\r\n            user.followed ? () => unfollow(user.id) : () => follow(user.id)\r\n          }\r\n          title={user.followed ? \"Удалить из друзей\" : \"Добавить в друзья\"}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport User from \"./User\";\r\n\r\nconst UsersContent = ({ users = [], isFollowing, unfollow, follow }) => {\r\n  const usersList = users.map(user => (\r\n    <User\r\n      key={user.id}\r\n      user={user}\r\n      isFollowing={isFollowing}\r\n      unfollow={unfollow}\r\n      follow={follow}\r\n    />\r\n  ));\r\n\r\n  return <div className={css.container}>{usersList}</div>;\r\n};\r\n\r\nexport default UsersContent;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { setPortionNumber } from \"../../../redux/usersReducer\";\r\n\r\nconst Paginator = ({\r\n  totalCount,\r\n  count,\r\n  currentPage,\r\n  handlePageNumClick,\r\n  portionSize = 10,\r\n  portionNumber,\r\n  setPortionNumber\r\n}) => {\r\n  const pagesAmount = Math.ceil(totalCount / count); //Всего страниц\r\n  const pagesNumbers = []; //кол-во кнопочек с номерами страниц\r\n\r\n  for (let i = 1; i <= pagesAmount; i++) {\r\n    pagesNumbers.push(i);\r\n  }\r\n\r\n  const portionsAmount = Math.ceil(pagesAmount / portionSize);\r\n\r\n  const leftBorderPagesNumbers = (portionNumber - 1) * portionSize + 1;\r\n  const rigthBorderPagesNumbers = portionNumber * portionSize;\r\n\r\n  const pages = pagesNumbers\r\n    .filter(\r\n      number =>\r\n        number >= leftBorderPagesNumbers && number <= rigthBorderPagesNumbers\r\n    )\r\n    .map(number => {\r\n      return (\r\n        <span\r\n          className={`${css.page} ${number === currentPage && css.activePage}`}\r\n          onClick={() => {\r\n            handlePageNumClick(number);\r\n          }}\r\n          key={number}\r\n        >\r\n          {number}\r\n        </span>\r\n      );\r\n    });\r\n\r\n  const handleBtnLeft = () => {\r\n    setPortionNumber(portionNumber - 1);\r\n  };\r\n  const handleBtnRight = () => {\r\n    setPortionNumber(portionNumber + 1);\r\n  };\r\n\r\n  return (\r\n    <div className={css.pagesNumbersBox}>\r\n      <button onClick={handleBtnLeft} disabled={portionNumber <= 1}>\r\n        {\"<\"}\r\n      </button>\r\n      {pages}\r\n      <button\r\n        onClick={handleBtnRight}\r\n        disabled={portionNumber === portionsAmount}\r\n      >\r\n        {\">\"}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mstp = state => ({\r\n  portionNumber: state.usersPage.portionNumber\r\n});\r\n\r\nexport default connect(mstp, { setPortionNumber })(Paginator);\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport Paginator from \"../../../common/Paginator\";\r\n\r\nconst UsersFooter = ({\r\n  totalCount,\r\n  count,\r\n  currentPage,\r\n  handlePageNumClick\r\n}) => {\r\n  return (\r\n    <div className={css.usersFooter}>\r\n      <Paginator\r\n        totalCount={totalCount}\r\n        count={count}\r\n        currentPage={currentPage}\r\n        handlePageNumClick={handlePageNumClick}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersFooter;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport UsersHeader from \"./UsersHeader\";\r\nimport UsersContent from \"./UsersContent\";\r\nimport UsersFooter from \"./UsersFooter\";\r\n\r\nconst Users = props => {\r\n  return (\r\n    <div className={css.users}>\r\n      <UsersHeader\r\n        totalCount={props.totalCount}\r\n        isFetching={props.isFetching}\r\n      />\r\n      <UsersContent\r\n        users={props.users}\r\n        isFollowing={props.isFollowing}\r\n        unfollow={props.unfollow}\r\n        follow={props.follow}\r\n      />\r\n      <UsersFooter\r\n        totalCount={props.totalCount}\r\n        count={props.count}\r\n        currentPage={props.currentPage}\r\n        handlePageNumClick={props.handlePageNumClick}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\n\r\nimport {\r\n  setCurrentPage,\r\n  requireUsers,\r\n  follow,\r\n  unfollow\r\n} from \"../../../redux/usersReducer\";\r\nimport {\r\n  getUsers,\r\n  getCount,\r\n  getCurrentPage,\r\n  getTotalCount,\r\n  getIsFetching,\r\n  getIsFollowing\r\n} from \"../../../redux/usersSelectors\";\r\nimport Users from \".\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\n\r\nconst UsersContainer = props => {\r\n  useEffect(() => {\r\n    props.requireUsers(props.count, props.currentPage);\r\n  }, []);\r\n\r\n  const handlePageNumClick = number => {\r\n    props.requireUsers(props.count, number);\r\n    props.setCurrentPage(number);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Users\r\n        totalCount={props.totalCount}\r\n        count={props.count}\r\n        currentPage={props.currentPage}\r\n        handlePageNumClick={handlePageNumClick}\r\n        follow={props.follow}\r\n        unfollow={props.unfollow}\r\n        users={props.users}\r\n        isFollowing={props.isFollowing}\r\n        isFetching={props.isFetching}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mstp = state => {\r\n  return {\r\n    users: getUsers(state),\r\n    count: getCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    totalCount: getTotalCount(state),\r\n    isFetching: getIsFetching(state),\r\n    isFollowing: getIsFollowing(state)\r\n  };\r\n};\r\nconst mdtp = {\r\n  follow,\r\n  unfollow,\r\n  setCurrentPage,\r\n  requireUsers\r\n};\r\n\r\nexport default compose(connect(mstp, mdtp), withAuthRedirect)(UsersContainer);\r\n"],"sourceRoot":""}