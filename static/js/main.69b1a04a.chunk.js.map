{"version":3,"sources":["components/Content/Dialogs/DialogsNav/DialogsNavItem/style.module.css","components/Content/Profile/ProfilePosts/Post/PostMain/style.module.css","components/Content/Profile/ProfileFriends/style.module.css","redux/usersReducer.js","api/api.js","utils/validators.js","redux/authSelectors.js","components/App/style.module.css","components/LeftSidebar/style.module.css","components/Content/style.module.css","utils/parseAvatarSize.js","components/common/Avatar/index.jsx","components/Content/Dialogs/DialogsNav/style.module.css","components/Content/Dialogs/Messages/Content/style.module.css","components/Content/Dialogs/Messages/Footer/style.module.css","assets/img/dotPreloader.svg","components/Content/Profile/ProfileInfo/style.module.css","components/Content/Profile/ProfilePosts/Post/style.module.css","components/Content/Profile/ProfilePosts/AddPost/style.module.css","components/Content/Dialogs/Messages/Content/MessageItem/style.module.css","components/Content/Profile/ProfileInfo/PIMain/style.module.css","components/Content/Profile/ProfilePosts/AddPost/AddPostForm/style.module.css","components/Content/Dialogs/DialogItem/style.module.css","components/common/Preloader/index.jsx","components/LeftSidebar/Menu/MenuItem/index.jsx","components/LeftSidebar/Menu/index.jsx","components/LeftSidebar/index.jsx","components/Content/Dialogs/DialogItem/index.jsx","components/Content/Dialogs/DialogsNav/DialogsNavItem/index.jsx","components/Content/Dialogs/DialogsNav/index.jsx","components/Content/Dialogs/Messages/Header/index.jsx","components/Content/Dialogs/Messages/Content/MessageItem/index.jsx","components/Content/Dialogs/Messages/Content/index.jsx","components/Content/Dialogs/Messages/Footer/MessageForm/index.jsx","components/Content/Dialogs/Messages/Footer/index.jsx","components/Content/Dialogs/Messages/index.jsx","redux/dialogsSelectors.js","redux/dialogsReducer.js","components/Content/Dialogs/index.jsx","components/Content/News/index.jsx","components/Content/Profile/ProfilePhoto/UploadPhoto/index.jsx","components/Content/Profile/ProfilePhoto/index.jsx","components/Content/Profile/ProfileInfo/PIHeader/ProfileStatus/index.jsx","components/Content/Profile/ProfileInfo/PIHeader/index.jsx","components/Content/Profile/ProfileInfo/PIMain/Info/index.jsx","components/Content/Profile/ProfileInfo/PIMain/index.jsx","components/Content/Profile/ProfileInfo/PIFooter/index.jsx","components/Content/Profile/ProfileInfo/index.js","components/Content/Profile/ProfilePosts/Post/PostsHeader/index.jsx","components/Content/Profile/ProfilePosts/Post/PostMain/index.jsx","components/Content/Profile/ProfilePosts/Post/PostFooter/index.jsx","components/Content/Profile/ProfilePosts/Post/index.jsx","components/Content/Profile/ProfilePosts/AddPost/AddPostForm/Textarea.jsx","components/Content/Profile/ProfilePosts/AddPost/AddPostForm/index.jsx","components/Content/Profile/ProfilePosts/AddPost/index.jsx","components/Content/Profile/ProfilePosts/index.jsx","components/Content/Profile/ProfileFriends/FriendsHeader/index.jsx","components/Content/Profile/ProfileFriends/Friend/index.jsx","components/Content/Profile/ProfileFriends/index.jsx","components/Content/Profile/index.jsx","components/Content/Profile/indexContainer.jsx","components/hoc/withSuspense.js","components/Content/index.jsx","components/Header/OwnerBlock/SubMenu/index.jsx","components/Header/OwnerBlock/index.jsx","components/Header/index.jsx","components/Header/indexContainer.jsx","redux/appReducer.js","components/App/index.jsx","serviceWorker.js","redux/store.js","index.js","components/Content/Dialogs/Messages/Header/style.module.css","components/Content/Profile/ProfileInfo/PIMain/Info/style.module.css","redux/profileReducer.js","components/Content/Profile/ProfileInfo/PIHeader/ProfileStatus/style.module.css","components/Content/Profile/ProfilePosts/Post/PostsHeader/style.module.css","redux/authReducer.js","redux/ownerSelectors.js","redux/ownerReducer.js","assets/img/userPhoto.png","components/Content/Dialogs/Messages/Footer/MessageForm/style.module.css","components/Content/Profile/ProfileInfo/PIFooter/style.module.css","components/Content/Profile/ProfilePosts/Post/PostFooter/style.module.css","components/Header/OwnerBlock/style.module.css","components/LeftSidebar/Menu/MenuItem/style.module.css","components/Content/Dialogs/Messages/style.module.css","components/Content/Profile/ProfilePhoto/style.module.css","components/common/Preloader/style.module.css","assets/img/preloader.svg","components/Content/Profile/ProfilePhoto/UploadPhoto/style.module.css","components/Content/Profile/ProfileFriends/FriendsHeader/style.module.css","components/Content/Profile/ProfileFriends/Friend/style.module.css","components/Header/style.module.css","components/hoc/withAuthRedirect.js","redux/profileSelectors.js","components/Content/Dialogs/style.module.css","components/common/Avatar/style.module.css","components/Content/Profile/style.module.css","components/Content/Profile/ProfileInfo/PIHeader/style.module.css","components/Header/OwnerBlock/SubMenu/style.module.css"],"names":["module","exports","initialState","users","count","currentPage","totalCount","isFetching","isFollowing","portionNumber","usersReducer","state","action","type","FOLLOW","map","user","id","payload","followed","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING","userId","filter","SET_PORTION_NUMBER","setCurrentPage","newCurrentPage","toggleIsFetching","toggleIsFollowing","setPortionNumber","requireUsers","dispatch","usersAPI","getUsers","then","data","newCount","items","follow","resultCode","unfollow","instance","axios","baseURL","withCredentials","headers","page","get","response","catch","err","console","log","post","delete","profileAPI","getUserProfile","getUserStatus","updateUserStatus","status","put","updateProfileInfo","info","uploadPhoto","photo","formData","FormData","append","authAPI","me","login","email","password","rememberMe","logout","required","value","undefined","maxLength","max","length","getAuthUserId","auth","getIsAuth","isAuth","parseSize","size","split","width","height","isNaN","Number","trim","connect","owner","getOwner","profile","getProfile","img","pageRef","photos","large","defaultAva","ownerData","small","to","className","css","imgBox","src","style","alt","Preloader","spinner","dottedPreloader","spinnerDiv","dottedDiv","dotted","MenuItem","iconClass","navlinkInner","navLink","icon","linkName","Menu","menuList","item","key","LeftSidebar","leftSidebar","DialogItem","dialogs","deleteDialog","dialogsList","dialog","navlink","photoBox","Avatar","avatar","content","headerInfo","name","time","mainInfo","lastMessage","btnDel","symbol","onClick","e","preventDefault","DialogsNavItem","title","handleClick","isActive","active","DialogsNav","itemsList","alert","navBox","MessagesHeader","interlocutor","container","goBack","backArrow","goBackCaption","nameLink","MessageItem","userData","message","sidebar","tick","main","mainHeader","actions","edit","star","text","MessagesContent","conversation","footerHeight","React","createRef","useState","maxContentHeight","setMaxContentHeight","useEffect","current","scrollTo","scrollHeight","messages","fullName","messagesList","whose","ref","marginBottom","maxHeight","reduxForm","form","props","onSubmit","handleSubmit","textareaBox","Field","component","Textarea","placeholder","setFooterHeight","btnSend","input","meta","textArea","offsetHeight","textareaContainer","textarea","onInput","onBlur","MessagesFooter","addMessage","values","Messages","header","footer","getDialogsPage","dialogsPage","dialogsReducer","newMessage","messageBody","Date","getHours","getMinutes","mdtp","dialogId","deleteDialogAC","getState","addMessageAC","reset","compose","getOwnerData","withAuthRedirect","dialogsBox","exact","path","render","menu","News","UploadPhoto","inputBox","htmlFor","btnUpload","arrow","onChange","event","target","files","accept","ProfilePhoto","isOwner","profilePhoto","userPhoto","uploadMenu","ProfileStatus","userStatus","editMode","setEditMode","statusValue","setStatusValue","statusBox","withoutHover","autoFocus","btnSave","PIHeader","headerBox","isOnline","Info","left","label","right","description","btnEdit","PIMain","toggleDetails","setToggleDetails","mainBox","showDetails","MoreInfo","lookingForAJob","lookingForAJobDescription","PIFooter","footerBox","ProfileInfo","profileInfo","PostHeader","date","postHeader","avaBox","postInfo","postActions","PostMain","postBody","body","PostFooter","likes","like","likesAmount","comment","share","Post","posts","postsList","postBox","TextArea","hasError","touched","error","useRef","errorSpan","maxLength500","focused","setFocused","addPostBox","addPostPhoto","validate","hr","btnPublishBox","addPostBtn","AddPost","addPost","ProfilePosts","FriendsHeader","friendsAmount","friends","amount","updates","Friend","friend","nameBox","ProfileFriends","friendsList","friendsBox","Profile","profilePage","mapDispatchToProps","setUserProfile","withRouter","getProfilePage","authorizedUser","match","params","withSuspense","Component","Suspense","fallback","UsersContainer","lazy","Login","EditPI","Content","requireOwnerData","SubMenu","toggleShowSubMenu","closeSubMenu","closest","document","addEventListener","removeEventListener","subMenu","data-name","OwnerBlock","isShownSubMenu","setIsShownSubMenu","ownerBlock","fullname","toLogin","Header","back","logo","href","initializeSuccessed","SUCCESS_INITIALIZE","appReducer","app","initialize","authP","authentication","Promise","all","store","wrapper","Boolean","window","location","hostname","reducers","combineReducers","profileReducer","usersPage","authReducer","formReducer","ownerReducer","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","ADD_POST","dateFormatter","Intl","DateTimeFormat","year","month","day","isPIUpdated","newPost","format","Math","floor","random","setUserStatusAC","newStatus","toggleIsPIUpdated","setIsOwnerAC","addPostAC","ownerId","a","setAuthUserData","stopSubmit","_error","SET_OWNER_DATA","setOwnerData","warn","RedirectComponent","this"],"mappings":"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","file":"static/js/main.69b1a04a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"style_item__1cqVN\",\"active\":\"style_active__3Rkth\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__3nUUE\",\"body\":\"style_body__6C3q9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBox\":\"style_friendsBox__3YbBG\",\"friendsList\":\"style_friendsList__1xMns\"};","import { usersAPI } from \"../api/api\";\r\n\r\nconst initialState = {\r\n  users: [],\r\n  count: 5, //People amount in response\r\n  currentPage: 1,\r\n  totalCount: null,\r\n  isFetching: false,\r\n  isFollowing: [],\r\n  portionNumber: 1\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(user => {\r\n          if (user.id === action.payload) return { ...user, followed: true };\r\n          else return user;\r\n        })\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(user => {\r\n          if (user.id === action.payload) return { ...user, followed: false };\r\n          else return user;\r\n        })\r\n      };\r\n    case SET_USERS:\r\n      return { ...state, users: [...action.payload] };\r\n    case SET_CURRENT_PAGE:\r\n      return { ...state, currentPage: action.payload };\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return { ...state, totalCount: action.payload };\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.payload };\r\n    case TOGGLE_IS_FOLLOWING:\r\n      return {\r\n        ...state,\r\n        isFollowing: action.payload.isFollowing\r\n          ? [...state.isFollowing, action.payload.userId]\r\n          : state.isFollowing.filter(id => {\r\n              return id !== action.payload.userId;\r\n            })\r\n      };\r\n    case SET_PORTION_NUMBER:\r\n      return { ...state, portionNumber: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default usersReducer;\r\n\r\nconst FOLLOW = \"users/FOLLOW\";\r\nconst UNFOLLOW = \"users/UNFOLLOW\";\r\nconst SET_USERS = \"users/SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"users/SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"users/SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"users/TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING = \"users/TOGGLE_IS_FOLLOWING\";\r\nconst SET_PORTION_NUMBER = \"users/SET_PORTION_NUMBER\";\r\n\r\nexport const followAC = id => {\r\n  return {\r\n    type: FOLLOW,\r\n    payload: id\r\n  };\r\n};\r\nexport const unfollowAC = id => {\r\n  return {\r\n    type: UNFOLLOW,\r\n    payload: id\r\n  };\r\n};\r\nexport const setUsers = users => {\r\n  return { type: SET_USERS, payload: users };\r\n};\r\nexport const setCurrentPage = newCurrentPage => {\r\n  return { type: SET_CURRENT_PAGE, payload: newCurrentPage };\r\n};\r\nexport const setTotalUsersCount = newCount => {\r\n  return { type: SET_TOTAL_USERS_COUNT, payload: newCount };\r\n};\r\nexport const toggleIsFetching = isFetching => {\r\n  return { type: TOGGLE_IS_FETCHING, payload: isFetching };\r\n};\r\nexport const toggleIsFollowing = (isFollowing, userId) => {\r\n  return { type: TOGGLE_IS_FOLLOWING, payload: { isFollowing, userId } };\r\n};\r\nexport const setPortionNumber = portionNumber => {\r\n  return { type: SET_PORTION_NUMBER, payload: portionNumber };\r\n};\r\n\r\nexport const requireUsers = (count, currentPage) => {\r\n  return dispatch => {\r\n    dispatch(toggleIsFetching(true));\r\n    usersAPI.getUsers(count, currentPage).then(data => {\r\n      dispatch(toggleIsFetching(false));\r\n      dispatch(setUsers(data.items));\r\n      dispatch(setTotalUsersCount(data.totalCount));\r\n    });\r\n  };\r\n};\r\n\r\nexport const follow = userId => {\r\n  return dispatch => {\r\n    dispatch(toggleIsFollowing(true, userId));\r\n    usersAPI.follow(userId).then(data => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(followAC(userId));\r\n      }\r\n      dispatch(toggleIsFollowing(false, userId));\r\n    });\r\n  };\r\n};\r\n\r\nexport const unfollow = userId => {\r\n  return dispatch => {\r\n    dispatch(toggleIsFollowing(true, userId));\r\n    usersAPI.unfollow(userId).then(data => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(unfollowAC(userId));\r\n      }\r\n      dispatch(toggleIsFollowing(false, userId));\r\n    });\r\n  };\r\n};\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"a12bc084-f676-4a1e-bd69-8d4f17b429fd\"\r\n    // \"API-KEY\": \"428af039-e917-4355-b2da-f161fa0dab90\" //Key Для аккаунта Sanya\r\n  }\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(count, page) {\r\n    return instance\r\n      .get(`users?count=${count}&page=${page}`)\r\n      .then(response => response.data)\r\n      .catch(err => console.log(err));\r\n  },\r\n\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`).then(response => response.data);\r\n  },\r\n\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`).then(response => response.data);\r\n  }\r\n};\r\n\r\nexport const profileAPI = {\r\n  getUserProfile(userId) {\r\n    return instance.get(`profile/${userId}`).then(response => response.data);\r\n  },\r\n  getUserStatus(userId) {\r\n    return instance\r\n      .get(`profile/status/${userId}`)\r\n      .then(response => response.data);\r\n  },\r\n  updateUserStatus(status) {\r\n    return instance\r\n      .put(\"profile/status\", { status: status })\r\n      .then(response => response.data);\r\n  },\r\n  updateProfileInfo(info) {\r\n    return instance.put(\"profile\", info);\r\n  },\r\n  uploadPhoto(photo) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", photo);\r\n    return instance\r\n      .put(\"profile/photo\", formData, {\r\n        \"content-type\": \"multipart/form-data\"\r\n      })\r\n      .then(response => response.data);\r\n  }\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(\"auth/me\").then(response => response.data);\r\n  },\r\n  login(email, password, rememberMe = false) {\r\n    return instance\r\n      .post(\"auth/login\", {\r\n        email,\r\n        password,\r\n        rememberMe\r\n      })\r\n      .then(response => response.data);\r\n  },\r\n  logout() {\r\n    return instance.delete(\"auth/login\").then(response => response.data);\r\n  }\r\n};\r\n","export const required = value => {\r\n  return value ? undefined : \"Field is required\";\r\n};\r\n\r\nexport const maxLength = max => (value = \"\") => {\r\n  return value.length > max ? `Max length is ${max}` : undefined;\r\n};\r\n","export const getAuthUserId = state => state.auth.userId;\r\nexport const getIsAuth = state => state.auth.isAuth;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"style_wrapper___cB3e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"leftSidebar\":\"style_leftSidebar__3RdeO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"style_content__3WnKu\"};","const parseSize = size => {\r\n  if (size === \"small\" || size === \"middle\" || size === \"large\") return size;\r\n\r\n  const [width, height] = size.split(\",\");\r\n  if (\r\n    isNaN(Number(width)) ||\r\n    isNaN(Number(height)) ||\r\n    !Number(width) ||\r\n    !Number(height)\r\n  )\r\n    return \"small\";\r\n\r\n  return { width: `${width.trim()}px`, height: `${height.trim()}px` };\r\n};\r\n\r\nexport default parseSize;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport defaultAva from \"../../../assets/img/userPhoto.png\";\r\nimport { getOwner } from \"../../../redux/ownerSelectors\";\r\nimport { getProfile } from \"../../../redux/profileSelectors\";\r\nimport parseSize from \"../../../utils/parseAvatarSize\";\r\n\r\nconst Avatar = ({ img, size, pageRef = \"/\", owner, profile }) => {\r\n  if (!img) img = defaultAva;\r\n  else {\r\n    switch (img) {\r\n      case \"profile\":\r\n        img = profile.photos.large || defaultAva;\r\n        break;\r\n      case \"owner\":\r\n        img = owner.ownerData.photos.small || defaultAva;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  size = parseSize(size);\r\n\r\n  return (\r\n    <NavLink to={pageRef}>\r\n      <div className={css.imgBox}>\r\n        <img\r\n          src={img}\r\n          className={`${css.img} ${typeof size === \"string\" && css[size]}`}\r\n          style={(typeof size === \"object\" && size) || {}}\r\n          alt=\"Ava\"\r\n        />\r\n      </div>\r\n    </NavLink>\r\n  );\r\n};\r\n\r\nconst mstp = state => ({\r\n  owner: getOwner(state),\r\n  profile: getProfile(state)\r\n});\r\n\r\nexport default connect(mstp)(Avatar);\r\n\r\n//Props:\r\n// img: reference to necessary page or 'profile' - img will be taken from state.profilePage, 'owner' - from state.owner\r\n// size - '50,60': {width: 50, height: 60}, small:30px, middle:40px, large:50px\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBox\":\"style_navBox__3VP8A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__mP4JC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1Gf7H\"};","module.exports = __webpack_public_path__ + \"static/media/dotPreloader.e4f3dfa9.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo\":\"style_profileInfo__1dE6d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBox\":\"style_postBox__2p5-7\",\"img\":\"style_img__i3_-2\",\"postBody\":\"style_postBody__3NLoO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1b4Li\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__30fIM\",\"actions\":\"style_actions__2h17L\",\"tick\":\"style_tick__3dcTP\",\"sidebar\":\"style_sidebar__3M0SZ\",\"main\":\"style_main__1TfdX\",\"mainHeader\":\"style_mainHeader__RV9ur\",\"name\":\"style_name__1S2Ox\",\"time\":\"style_time__3-Jv5\",\"edit\":\"style_edit__MVfZ4\",\"star\":\"style_star__27ULd\",\"text\":\"style_text__3eS3K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainBox\":\"style_mainBox__3axBe\",\"mainInfo\":\"style_mainInfo__gbMLV\",\"item\":\"style_item__2GTal\",\"left\":\"style_left__uPmSC\",\"right\":\"style_right__2smLI\",\"showDetails\":\"style_showDetails__2GkiB\",\"itemName\":\"style_itemName__3cpJX\",\"itemMore\":\"style_itemMore__Xo6fl\",\"itemBox\":\"style_itemBox__2xDbC\",\"navlink\":\"style_navlink__3S6M5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addPostBox\":\"style_addPostBox__2YxG3\",\"addPostPhoto\":\"style_addPostPhoto__1-Jt5\",\"hr\":\"style_hr__11O7m\",\"btnPublishBox\":\"style_btnPublishBox__3PA5Y\",\"addPostBtn\":\"style_addPostBtn__3uLQ_\",\"container\":\"style_container___5yO2\",\"textarea\":\"style_textarea__1cn8X\",\"error\":\"style_error__yh-wk\",\"errorSpan\":\"style_errorSpan__2a0SN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navlink\":\"style_navlink__21NSS\",\"item\":\"style_item__kSFxS\",\"content\":\"style_content__WPY-d\",\"symbol\":\"style_symbol__185iU\",\"photoBox\":\"style_photoBox__KY1Lw\",\"info\":\"style_info__3M_5V\",\"headerInfo\":\"style_headerInfo__18G3C\",\"name\":\"style_name__3VFEy\",\"time\":\"style_time__2o5dQ\",\"mainInfo\":\"style_mainInfo__2-Iqo\",\"btnDel\":\"style_btnDel__6MIZy\"};","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport spinner from \"../../../assets/img/preloader.svg\";\r\nimport dottedPreloader from \"../../../assets/img/dotPreloader.svg\";\r\n\r\nconst Preloader = ({ type }) => {\r\n  if (!type) type = spinner;\r\n  if (type === \"dotted\") type = dottedPreloader;\r\n  else type = spinner;\r\n\r\n  return (\r\n    <div className={type === spinner ? css.spinnerDiv : css.dottedDiv}>\r\n      <img\r\n        src={type}\r\n        alt=\"preloader\"\r\n        className={type === spinner ? css.spinner : css.dotted}\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default Preloader;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst MenuItem = ({ iconClass, pageRef, navlinkInner }) => {\r\n  return (\r\n    <div>\r\n      <NavLink to={pageRef} className={`${css.navLink}`}>\r\n        <span className={`${css[iconClass]} ${css.icon}`}></span>\r\n        <span className={css.linkName}>{navlinkInner}</span>\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MenuItem;\r\n","import React from \"react\";\r\nimport MenuItem from \"./MenuItem\";\r\n\r\nconst Menu = () => {\r\n  const menuObjects = [\r\n    {\r\n      id: 1,\r\n      iconClass: \"profileIcon\",\r\n      pageRef: \"/\",\r\n      navlinkInner: \"Моя страница\"\r\n    },\r\n    {\r\n      id: 2,\r\n      iconClass: \"dialogsIcon\",\r\n      pageRef: \"/dialogs\",\r\n      navlinkInner: \"Сообщения\"\r\n    },\r\n    {\r\n      id: 3,\r\n      iconClass: \"newsIcon\",\r\n      pageRef: \"/news\",\r\n      navlinkInner: \"Новости\"\r\n    },\r\n    {\r\n      id: 4,\r\n      iconClass: \"peopleIcon\",\r\n      pageRef: \"/users\",\r\n      navlinkInner: \"Люди\"\r\n    }\r\n  ];\r\n\r\n  const menuList = menuObjects.map(item => (\r\n    <MenuItem\r\n      key={item.id}\r\n      iconClass={item.iconClass}\r\n      pageRef={item.pageRef}\r\n      navlinkInner={item.navlinkInner}\r\n    />\r\n  ));\r\n\r\n  return <nav>{menuList}</nav>;\r\n};\r\n\r\nexport default Menu;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport Menu from \"./Menu\";\r\n\r\nconst LeftSidebar = () => {\r\n  return (\r\n    <aside className={css.leftSidebar}>\r\n      <Menu />\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default LeftSidebar;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport Avatar from \"../../../common/Avatar\";\r\n\r\nconst DialogItem = ({ dialogs = [], deleteDialog }) => {\r\n  const dialogsList = dialogs.map(dialog => {\r\n    return (\r\n      <NavLink\r\n        to={`/dialogs/${dialog.id}`}\r\n        key={dialog.id}\r\n        className={css.navlink}\r\n      >\r\n        <div className={css.item}>\r\n          <div className={css.photoBox}>\r\n            <object>\r\n              <Avatar size=\"large\" img={dialog.avatar} />\r\n            </object>\r\n          </div>\r\n          <div className={css.content}>\r\n            <div className={css.info}>\r\n              <div className={css.headerInfo}>\r\n                <span className={css.name}>{dialog.name}</span>\r\n                <span className={css.time}>{dialog.time}</span>\r\n              </div>\r\n              <div className={css.mainInfo}>{dialog.lastMessage}</div>\r\n            </div>\r\n            <div className={css.btnDel}>\r\n              <object>\r\n                {/* used object in order to fix a warning because I put <a> into <a>. I've to find another solution */}\r\n                <span\r\n                  className={css.symbol}\r\n                  onClick={e => {\r\n                    e.preventDefault();\r\n                    deleteDialog(dialog.id);\r\n                  }}\r\n                >\r\n                  ✕\r\n                </span>\r\n              </object>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </NavLink>\r\n    );\r\n  });\r\n\r\n  return <div>{dialogsList}</div>;\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nconst DialogsNavItem = ({ title, handleClick, isActive }) => {\r\n  return (\r\n    <div\r\n      className={`${css.item} ${isActive && css.active}`}\r\n      onClick={handleClick}\r\n    >\r\n      {title}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogsNavItem;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\nimport DialogsNavItem from \"./DialogsNavItem\";\r\n\r\nconst DialogsNav = () => {\r\n  const items = [\r\n    { id: 1, title: \"Все сообщения\", isActive: true },\r\n    { id: 2, title: \"Непрочитанные\", isActive: false },\r\n    { id: 3, title: \"Важные\", isActive: false }\r\n  ];\r\n\r\n  const itemsList = items.map(item => (\r\n    <DialogsNavItem\r\n      key={item.id}\r\n      title={item.title}\r\n      handleClick={() => alert(\"hi\")}\r\n      isActive={item.isActive}\r\n    />\r\n  ));\r\n\r\n  return <div className={css.navBox}>{itemsList}</div>;\r\n};\r\nexport default DialogsNav;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport Avatar from \"../../../../common/Avatar\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst MessagesHeader = ({ interlocutor }) => {\r\n  return (\r\n    <div className={css.container}>\r\n      <NavLink to=\"/dialogs\" className={css.goBack}>\r\n        <span className={css.backArrow}></span>{\" \"}\r\n        <span className={css.goBackCaption}>Назад</span>\r\n      </NavLink>\r\n\r\n      <div className={css.info}>\r\n        <NavLink to={`/profile/${interlocutor.id}`} className={css.nameLink}>\r\n          <span className={css.name}>{interlocutor.name}</span>\r\n        </NavLink>\r\n      </div>\r\n      <div className={css.photoBox}>\r\n        <Avatar size=\"small\" img={interlocutor.avatar} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessagesHeader;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\nimport Avatar from \"../../../../../common/Avatar\";\r\n\r\nconst MessageItem = ({ userData, message }) => {\r\n  return (\r\n    <div className={css.container}>\r\n      <div className={css.sidebar}>\r\n        <div className={css.tick}></div>\r\n        <div className={css.avatar}>\r\n          <Avatar\r\n            size=\"36,36\"\r\n            pageRef={`/profile${userData.id}`}\r\n            img={userData.avatar}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className={css.main}>\r\n        <div className={css.mainHeader}>\r\n          <div className={css.name}>{userData.name}</div>\r\n          <div className={css.time}>{message.time}</div>\r\n          <div className={css.actions}>\r\n            <div className={css.edit}></div>\r\n            <div className={css.star}></div>\r\n          </div>\r\n        </div>\r\n        <div className={css.text}>{message.text}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageItem;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport MessageItem from \"./MessageItem\";\r\n\r\nconst MessagesContent = ({ conversation, ownerData, footerHeight }) => {\r\n  const content = React.createRef();\r\n\r\n  const [maxContentHeight, setMaxContentHeight] = useState(\"700px\");\r\n\r\n  useEffect(() => {\r\n    content.current.scrollTo(0, content.current.scrollHeight);\r\n    setMaxContentHeight(700 - footerHeight + \"px\");\r\n  }, [conversation.messages.length, footerHeight, content]);\r\n  //I don't know why esLint underlines the second useEffect argument. I don't want useEffect to work when content changes. It's necessary for me it to work if length of messages array changes.\r\n\r\n  const {\r\n    id,\r\n    fullName: name,\r\n    photos: { small: avatar }\r\n  } = ownerData;\r\n\r\n  const owner = { id, name, avatar };\r\n  const { interlocutor } = conversation;\r\n\r\n  const messagesList = conversation.messages.map(message => {\r\n    return (\r\n      <MessageItem\r\n        key={message.id}\r\n        message={message}\r\n        userData={message.whose === interlocutor.id ? interlocutor : owner}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div\r\n      ref={content}\r\n      className={css.container}\r\n      style={{\r\n        marginBottom: `${footerHeight}px`,\r\n        maxHeight: maxContentHeight\r\n      }}\r\n    >\r\n      {messagesList}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessagesContent;\r\n","import React, { useEffect } from \"react\";\r\nimport css from \"./style.module.css\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\n\r\nlet MessageForm = props => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div className={css.container}>\r\n        <div className={css.textareaBox}>\r\n          <Field\r\n            component={Textarea}\r\n            name=\"message\"\r\n            type=\"text\"\r\n            placeholder=\"Напишите сообщние...\"\r\n            setFooterHeight={props.setFooterHeight}\r\n          />\r\n        </div>\r\n        <button className={css.btnSend}></button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\nexport default reduxForm({ form: \"messageForm\" })(MessageForm);\r\n\r\nconst Textarea = ({ input, meta, setFooterHeight, ...props }) => {\r\n  const textArea = React.createRef();\r\n\r\n  useEffect(() => {\r\n    setFooterHeight(textArea.current.offsetHeight + 23);\r\n  }, [textArea, setFooterHeight]);\r\n\r\n  const changeHeight = () => {\r\n    textArea.current.style.height = \"auto\";\r\n    textArea.current.style.height = textArea.current.scrollHeight + 2 + \"px\";\r\n  };\r\n  const returnHeight = () => {\r\n    textArea.current.style.height = \"35px\";\r\n  };\r\n\r\n  return (\r\n    <div className={css.textareaContainer}>\r\n      <textarea\r\n        {...input}\r\n        {...props}\r\n        className={css.textarea}\r\n        ref={textArea}\r\n        onInput={changeHeight}\r\n        onBlur={returnHeight}\r\n      ></textarea>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport MessageForm from \"./MessageForm\";\r\n\r\nconst MessagesFooter = ({ addMessage, setFooterHeight }) => {\r\n  const handleSubmit = values => {\r\n    addMessage(values.message);\r\n  };\r\n\r\n  return (\r\n    <div className={css.container}>\r\n      <MessageForm onSubmit={handleSubmit} setFooterHeight={setFooterHeight} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessagesFooter;\r\n","import React, { useState } from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport MessagesHeader from \"./Header\";\r\nimport MessagesContent from \"./Content\";\r\nimport MessagesFooter from \"./Footer\";\r\n\r\nconst Messages = ({ conversation, addMessage, ownerData }) => {\r\n  const [footerHeight, setFooterHeight] = useState(0);\r\n\r\n  return (\r\n    <div className={css.container}>\r\n      <div className={css.header}>\r\n        <MessagesHeader interlocutor={conversation.interlocutor} />\r\n      </div>\r\n      <div className={css.content}>\r\n        <MessagesContent\r\n          conversation={conversation}\r\n          ownerData={ownerData}\r\n          footerHeight={footerHeight}\r\n        />\r\n      </div>\r\n      <div className={css.footer}>\r\n        <MessagesFooter\r\n          addMessage={addMessage}\r\n          setFooterHeight={setFooterHeight}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messages;\r\n","export const getDialogsPage = state => state.dialogsPage;\r\nexport const getMessages = state => state.dialogsPage.messages;\r\n\r\nexport const getDialogsData = state => state.dialogsPage.dialogsData;\r\nexport const getMessagesId = state => state.dialogsPage.messagesId;\r\n","import { reset } from \"redux-form\";\r\n\r\nconst DELETE_DIALOG = \"dialogs/DELETE_DIALOG\";\r\nconst ADD_MESSAGE = \"dialogs/ADD_MESSAGE\";\r\n\r\nconst initialState = {\r\n  dialogs: [\r\n    {\r\n      id: 1,\r\n      name: \"Petya Rogov\",\r\n      avatar:\r\n        \"https://avatars.mds.yandex.net/get-pdb/1040792/0489ff80-181a-4697-83b4-b0cf25001614/s1200\",\r\n      time: \"14:38\",\r\n      lastMessage: \"Привет\"\r\n    },\r\n    {\r\n      name: \"Костя Дзю\",\r\n      avatar:\r\n        \"https://comicvine1.cbsistatic.com/uploads/scale_super/11113/111136241/4423123-0973851850-invis.jpg\",\r\n      id: 2,\r\n      time: \"16:35\",\r\n      lastMessage: \"Что делаешь?\"\r\n    },\r\n    {\r\n      id: 1111,\r\n      name: \"Джон Дир\",\r\n      avatar:\r\n        \"http://www.topoboi.com/pic/201401/1920x1080/topoboi.com-37232.jpg\",\r\n      time: \"12:13\",\r\n      lastMessage: \"Как дела?\"\r\n    },\r\n    {\r\n      id: 4,\r\n      name: \"Антонио\",\r\n      avatar:\r\n        \"https://www.meme-arsenal.com/memes/17ae26212e608608849dcbb2cfff103c.jpg\",\r\n      time: \"18:44\",\r\n      lastMessage: \"Все окей\"\r\n    }\r\n  ],\r\n  conversation: {\r\n    id: 1,\r\n    interlocutor: {\r\n      id: 1111,\r\n      name: \"Джон Дир\",\r\n      avatar:\r\n        \"http://www.topoboi.com/pic/201401/1920x1080/topoboi.com-37232.jpg\"\r\n    },\r\n    messages: [\r\n      {\r\n        id: 1,\r\n        whose: 1111,\r\n        text: \"Привет\",\r\n        time: \"12:24\"\r\n      },\r\n      {\r\n        id: 2,\r\n        whose: 1111,\r\n        text: \"Как дела?\",\r\n        time: \"13:45\"\r\n      },\r\n      {\r\n        id: 3,\r\n        whose: 5896,\r\n        text: \"Нормально\",\r\n        time: \"14:44\"\r\n      },\r\n      {\r\n        id: 4,\r\n        whose: 5896,\r\n        text: \"А у тебя?\",\r\n        time: \"14:44\"\r\n      }\r\n    ]\r\n  }\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case DELETE_DIALOG:\r\n      return {\r\n        ...state,\r\n        dialogs: state.dialogs.filter(dialog => dialog.id !== action.payload)\r\n      };\r\n    case ADD_MESSAGE:\r\n      const newMessage = {\r\n        id:\r\n          state.conversation.messages[state.conversation.messages.length - 1]\r\n            .id + 1,\r\n        whose: action.payload.id,\r\n        text: action.payload.messageBody,\r\n        time: `${new Date().getHours()}:${new Date().getMinutes()}`\r\n      };\r\n      return {\r\n        ...state,\r\n        conversation: {\r\n          ...state.conversation,\r\n          messages: [...state.conversation.messages, newMessage]\r\n        }\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default dialogsReducer;\r\n\r\nexport const deleteDialogAC = dialogId => {\r\n  return { type: DELETE_DIALOG, payload: dialogId };\r\n};\r\nexport const addMessageAC = (id, messageBody) => {\r\n  return { type: ADD_MESSAGE, payload: { id, messageBody } };\r\n};\r\n\r\nexport const deleteDialog = dialogId => dispatch => {\r\n  dispatch(deleteDialogAC(dialogId));\r\n};\r\nexport const addMessage = messageBody => {\r\n  return (dispatch, getState) => {\r\n    dispatch(addMessageAC(getState().owner.ownerData.id, messageBody));\r\n    dispatch(reset(\"messageForm\"));\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport DialogItem from \"./DialogItem\";\r\nimport DialogsNav from \"./DialogsNav\";\r\nimport Messages from \"./Messages\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { getDialogsPage } from \"../../../redux/dialogsSelectors\";\r\nimport { deleteDialog, addMessage } from \"../../../redux/dialogsReducer\";\r\nimport { getOwnerData } from \"../../../redux/ownerSelectors\";\r\n\r\nconst Dialogs = ({ dialogsPage, deleteDialog, addMessage, ownerData }) => {\r\n  return (\r\n    <div className={css.dialogsBox}>\r\n      <div className={css.content}>\r\n        <Route\r\n          exact\r\n          path=\"/dialogs\"\r\n          render={() => (\r\n            <DialogItem\r\n              dialogs={dialogsPage.dialogs}\r\n              deleteDialog={deleteDialog}\r\n            />\r\n          )}\r\n        />\r\n        <Route\r\n          path=\"/dialogs/:userId\"\r\n          render={() => (\r\n            <Messages\r\n              conversation={dialogsPage.conversation}\r\n              ownerData={ownerData}\r\n              addMessage={addMessage}\r\n            />\r\n          )}\r\n        />\r\n      </div>\r\n      <div className={css.menu}>\r\n        <DialogsNav />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mstp = state => ({\r\n  dialogsPage: getDialogsPage(state),\r\n  ownerData: getOwnerData(state)\r\n});\r\nconst mdtp = {\r\n  deleteDialog,\r\n  addMessage\r\n};\r\n\r\nexport default compose(connect(mstp, mdtp), withAuthRedirect)(Dialogs);\r\n","import React from \"react\";\r\n\r\nconst News = () => {\r\n  return <div className=\"news\">news</div>;\r\n};\r\n\r\nexport default News;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nconst UploadPhoto = ({ uploadPhoto }) => {\r\n  const handleFile = event => {\r\n    uploadPhoto(event.target.files[0]);\r\n  };\r\n\r\n  return (\r\n    <div className={css.inputBox}>\r\n      <label htmlFor=\"uploadPhoto\">\r\n        <div className={css.btnUpload}>\r\n          <span className={css.arrow}></span>\r\n          <span className={css.title}>Загрузить фото</span>\r\n        </div>\r\n      </label>\r\n      <input\r\n        id=\"uploadPhoto\"\r\n        type=\"file\"\r\n        onChange={handleFile}\r\n        accept=\"image/png,image/jpg, image/jpeg\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default UploadPhoto;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport userPhoto from \"../../../../assets/img/userPhoto.png\";\r\nimport Preloader from \"../../../common/Preloader\";\r\nimport UploadPhoto from \"./UploadPhoto\";\r\n\r\nconst ProfilePhoto = ({ photos, uploadPhoto, isOwner }) => {\r\n  if (!photos) return <Preloader />;\r\n  return (\r\n    <div className={css.profilePhoto}>\r\n      <div className={css.photo}>\r\n        <img\r\n          className={css.img}\r\n          src={photos.large === null ? userPhoto : photos.large}\r\n          alt=\"profilePhoto\"\r\n        />\r\n        {isOwner && (\r\n          <div className={css.uploadMenu}>\r\n            <UploadPhoto uploadPhoto={uploadPhoto} />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ProfilePhoto;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nconst ProfileStatus = ({ userStatus, updateUserStatus, isOwner }) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [statusValue, setStatusValue] = useState(userStatus);\r\n\r\n  useEffect(() => {\r\n    setStatusValue(userStatus);\r\n  }, [userStatus]);\r\n\r\n  const handleStatusChange = event => {\r\n    setStatusValue(event.target.value);\r\n  };\r\n  const activateEditMode = () => {\r\n    isOwner && setEditMode(true);\r\n  };\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    updateUserStatus(statusValue);\r\n  };\r\n\r\n  return (\r\n    <div className={css.container}>\r\n      {!editMode && (\r\n        <div\r\n          onClick={activateEditMode}\r\n          className={isOwner ? css.statusBox : css.withoutHover}\r\n        >\r\n          <span>{userStatus || (isOwner && \"Изменить статус\")}</span>\r\n        </div>\r\n      )}\r\n\r\n      {isOwner && editMode && (\r\n        <div className={css.inputBox}>\r\n          <input\r\n            autoFocus={true}\r\n            onChange={handleStatusChange}\r\n            value={statusValue}\r\n            type=\"text\"\r\n            placeholder=\"Введите статус\"\r\n            className={css.input}\r\n          />\r\n          <br />\r\n          <button onClick={deactivateEditMode} className={css.btnSave}>\r\n            Сохранить\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default ProfileStatus;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport ProfileStatus from \"./ProfileStatus\";\r\n\r\nconst PIHeader = ({ fullName, userStatus, updateUserStatus, isOwner }) => {\r\n  return (\r\n    <div className={css.headerBox}>\r\n      <span className={css.name}>{fullName}</span>\r\n      <span className={css.isOnline}>Online</span>\r\n      <ProfileStatus\r\n        userStatus={userStatus}\r\n        updateUserStatus={updateUserStatus}\r\n        isOwner={isOwner}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PIHeader;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Info = ({ title, pageRef = \"/editPIForm\", data = [] }) => {\r\n  const items = data.map(item => {\r\n    return (\r\n      <div key={item.id} className={css.item}>\r\n        <span className={css.left}>{item.label}</span>\r\n        <span className={css.right}>{item.description}</span>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className={css.info}>\r\n      <div className={css.header}>\r\n        <span>{title}</span>\r\n        <span className={css.btnEdit}>\r\n          <NavLink to={pageRef} className={css.navlink}>\r\n            Редактировать\r\n          </NavLink>\r\n        </span>\r\n      </div>\r\n\r\n      <div className={css.content}>{items}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Info;\r\n\r\n//Props:\r\n//  title - sub info name. For example: 'main info'\r\n//  pageRef - the page where this info can be edited\r\n//  data - an array with items which include:\r\n//    label - name of info\r\n//    description - info\r\n//    ('About me' 'Like football, like tennis ...')\r\n","import React, { useState } from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport Info from \"./Info\";\r\n\r\nconst PIMain = ({ profile }) => {\r\n  const [toggleDetails, setToggleDetails] = useState(false);\r\n\r\n  return (\r\n    <div className={css.mainBox}>\r\n      <div className={css.mainInfo}>\r\n        <div className={css.item}>\r\n          <span className={css.left}>День рождения</span>\r\n          <span className={css.right}>3 декабря 1984 г.</span>\r\n        </div>\r\n        <div className={css.item}>\r\n          <span className={css.left}>Город</span>\r\n          <span className={css.right}>Санкт-Петербург</span>\r\n        </div>\r\n        <div className={css.item}>\r\n          <span className={css.left}>Место учебы</span>\r\n          <span className={css.right}>ГУАП</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className={css.showDetails}\r\n        onClick={() => setToggleDetails(!toggleDetails)}\r\n      >\r\n        <span>\r\n          {toggleDetails\r\n            ? \"Скрыть подробную информацию\"\r\n            : \"Показать подробную информацию\"}\r\n        </span>\r\n      </div>\r\n\r\n      {toggleDetails && <MoreInfo profile={profile} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PIMain;\r\n\r\nconst MoreInfo = ({ profile }) => {\r\n  const main = [\r\n    {\r\n      id: 1,\r\n      label: \"Ищу работу\",\r\n      description: profile.lookingForAJob ? \"Да\" : \"Нет\"\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Описание\",\r\n      description: profile.lookingForAJobDescription\r\n        ? profile.lookingForAJobDescription\r\n        : \"Description\"\r\n    }\r\n  ];\r\n  const education = [\r\n    {\r\n      id: 1,\r\n      label: \"Вуз\",\r\n      description: \"СПбГУАП\"\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Колледж\",\r\n      description: \"СПбПК\"\r\n    }\r\n  ];\r\n  return (\r\n    <div>\r\n      <Info title=\"Личная информация\" pageRef=\"/editPIForm\" data={main} />\r\n      <Info title=\"Образование\" data={education} />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nconst PIFooter = () => {\r\n  return (\r\n    <div className={css.footerBox}>\r\n      <div className={css.item}>\r\n        <div>58</div>\r\n        <div>друзей</div>\r\n      </div>\r\n      <div className={css.item}>\r\n        <div>83</div>\r\n        <div>подписчика</div>\r\n      </div>\r\n      <div className={css.item}>\r\n        <div>15</div>\r\n        <div>подарков</div>\r\n      </div>\r\n      <div className={css.item}>\r\n        <div>283</div>\r\n        <div>аудиозаписи</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PIFooter;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport Preloader from \"../../../common/Preloader\";\r\nimport PIHeader from \"./PIHeader\";\r\nimport PIMain from \"./PIMain\";\r\nimport PIFooter from \"./PIFooter\";\r\n\r\nconst ProfileInfo = props => {\r\n  if (!props.profile) return <Preloader />;\r\n\r\n  return (\r\n    <div className={css.profileInfo}>\r\n      <PIHeader\r\n        fullName={props.profile.fullName}\r\n        userStatus={props.userStatus}\r\n        updateUserStatus={props.updateUserStatus}\r\n        isOwner={props.isOwner}\r\n      />\r\n      <PIMain profile={props.profile} />\r\n      <PIFooter />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport Avatar from \"../../../../../common/Avatar\";\r\n\r\nconst PostHeader = ({ date, profile }) => {\r\n  return (\r\n    <div className={css.postHeader}>\r\n      <div className={css.avaBox}>\r\n        <Avatar size={\"large\"} img=\"profile\" />\r\n      </div>\r\n      <div className={css.postInfo}>\r\n        <div className={css.name}>{profile.fullName}</div>\r\n        <div className={css.date}>{date}</div>\r\n      </div>\r\n      <div className={css.postActions}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostHeader;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nconst PostMain = ({ postBody }) => {\r\n  return (\r\n    <div className={css.container}>\r\n      <span className={css.body}>{postBody}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostMain;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nconst PostFooter = ({ likes }) => {\r\n  return (\r\n    <div className={css.container}>\r\n      <div className={css.like}>\r\n        <span className={css.likesAmount}>{likes}</span>\r\n      </div>\r\n      <div className={css.comment}></div>\r\n      <div className={css.share}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostFooter;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport PostHeader from \"./PostsHeader\";\r\nimport PostMain from \"./PostMain\";\r\nimport PostFooter from \"./PostFooter\";\r\n\r\nconst Post = ({ posts = [], profile }) => {\r\n  const postsList = posts.map(post => {\r\n    return (\r\n      <div className={css.postBox} key={post.id}>\r\n        <PostHeader date={post.date} profile={profile} />\r\n        <PostMain postBody={post.body} />\r\n        <PostFooter likes={post.likes} />\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return <div>{postsList}</div>;\r\n};\r\n\r\nexport default Post;\r\n","import React, { useRef } from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nexport const TextArea = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n\r\n  const textArea = useRef(null);\r\n\r\n  const changeHeight = () => {\r\n    textArea.current.style.height = \"auto\";\r\n    textArea.current.style.height = textArea.current.scrollHeight + 2 + \"px\";\r\n  };\r\n\r\n  return (\r\n    <div className={css.container}>\r\n      <div className={css.textareaBox}>\r\n        <textarea\r\n          className={css.textarea + \" \" + (hasError ? css.error : \"\")}\r\n          {...input}\r\n          {...props}\r\n          ref={textArea}\r\n          onInput={changeHeight}\r\n        ></textarea>\r\n      </div>\r\n      <div>\r\n        {hasError && <span className={css.errorSpan}>{meta.error}</span>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport { maxLength } from \"../../../../../../utils/validators\";\r\nimport { TextArea } from \"./Textarea\";\r\nimport Avatar from \"../../../../../common/Avatar\";\r\n\r\nconst maxLength500 = maxLength(500);\r\n\r\nconst AddPostForm = ({ handleSubmit, focused, setFocused }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className={css.addPostBox}>\r\n        <span className={css.addPostPhoto}>\r\n          <Avatar size=\"small\" img=\"owner\" />\r\n        </span>\r\n        <Field\r\n          component={TextArea}\r\n          name=\"postBody\"\r\n          type=\"text\"\r\n          placeholder=\"Что у вас нового?\"\r\n          validate={[maxLength500]}\r\n          onClick={e => setFocused(true)}\r\n        />\r\n      </div>\r\n      {focused && (\r\n        <>\r\n          <hr className={css.hr} />\r\n          <div className={css.btnPublishBox}>\r\n            <button className={css.addPostBtn}>Опубликовать</button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default reduxForm({ form: \"addPostForm\" })(AddPostForm);\r\n","import React, { useState } from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport AddPostForm from \"./AddPostForm\";\r\n\r\nconst AddPost = ({ addPost }) => {\r\n  const [focused, setFocused] = useState(false);\r\n\r\n  const handleSubmit = values => {\r\n    addPost(values.postBody);\r\n    setFocused(false);\r\n  };\r\n  return (\r\n    <div className={css.container}>\r\n      <AddPostForm\r\n        onSubmit={handleSubmit}\r\n        focused={focused}\r\n        setFocused={setFocused}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddPost;\r\n// textarea doesn't return it's prev height because I can't access\r\n//  textarea's ref. It's because AddPost contains sub-component that contains\r\n//  sub-component etc. As a result we've got a structure like: AddPost-->\r\n//  -->AddPostReduxForm-->Field-->ComponentWithTextarea\r\n// I can't use forwardRef because I send ref to Field and I don't know the way to\r\n//  resend it to ComponentWithTextarea from Field\r\n","import React from \"react\";\r\n\r\nimport Post from \"./Post\";\r\nimport AddPost from \"./AddPost\";\r\n\r\nconst ProfilePosts = ({ posts, profile, addPost }) => {\r\n  return (\r\n    <div className=\"profilePosts\">\r\n      <AddPost addPost={addPost} />\r\n      <Post posts={posts} profile={profile} />\r\n    </div>\r\n  );\r\n};\r\nexport default ProfilePosts;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nconst FriendsHeader = ({ friendsAmount }) => {\r\n  return (\r\n    <div className={css.container}>\r\n      <span className={css.friends}>\r\n        Друзья <span className={css.amount}>{friendsAmount}</span>\r\n      </span>\r\n      <span className={css.updates}>Обновления</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FriendsHeader;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport Avatar from \"../../../../common/Avatar\";\r\n\r\nconst Friend = ({ friend }) => {\r\n  return (\r\n    <div className={css.container}>\r\n      <div className={css.avaBox}>\r\n        <Avatar size={\"large\"} img={friend.img} />\r\n      </div>\r\n      <div className={css.nameBox}>\r\n        <span className={css.name}>{friend.name}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Friend;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport FriendsHeader from \"./FriendsHeader\";\r\nimport Friend from \"./Friend\";\r\n\r\nconst ProfileFriends = () => {\r\n  const friendsList = friends.map(friend => (\r\n    <Friend key={friend.id} friend={friend} />\r\n  ));\r\n\r\n  return (\r\n    <div className={css.friendsBox}>\r\n      <FriendsHeader friendsAmount={6} />\r\n      <div className={css.friendsList}>{friendsList}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileFriends;\r\n\r\nconst friends = [\r\n  {\r\n    id: 1,\r\n    name: \"Миша\",\r\n    img:\r\n      \"https://avatars.mds.yandex.net/get-zen_doc/235990/pub_5d6554d1027a1500ad1d93bd_5d6554d94e057700ad5e9449/scale_1200\"\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Саня\",\r\n    img:\r\n      \"https://s1.1zoom.ru/b5050/297/Canada_Mountains_Scenery_488936_1680x1050.jpg\"\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"Лера\",\r\n    img:\r\n      \"https://avatars.mds.yandex.net/get-pdb/195449/0642142b-b08f-414f-b34d-ca70e6586c2a/s1200\"\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"Вика\",\r\n    img:\r\n      \"https://avatars.mds.yandex.net/get-pdb/1927216/ee2d23f7-8f8f-4a5a-a6f9-fbf19ec7bcda/s1200?webp=false\"\r\n  },\r\n  {\r\n    id: 5,\r\n    name: \"Алексей\",\r\n    img:\r\n      \"https://avatars.mds.yandex.net/get-pdb/1935703/fe32e1de-92b6-4b58-9b53-0996ba379e23/s1200?webp=false\"\r\n  },\r\n  {\r\n    id: 6,\r\n    name: \"Паша\",\r\n    img: \"\"\r\n  }\r\n];\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport ProfilePhoto from \"./ProfilePhoto\";\r\nimport ProfileInfo from \"./ProfileInfo\";\r\nimport ProfilePosts from \"./ProfilePosts\";\r\nimport ProfileFriends from \"./ProfileFriends\";\r\n\r\nconst Profile = props => {\r\n  return (\r\n    <div className={css.profile}>\r\n      <div className={css.left}>\r\n        <ProfilePhoto\r\n          photos={props.profilePage.profile.photos}\r\n          isOwner={props.profilePage.isOwner}\r\n          uploadPhoto={props.uploadPhoto}\r\n        />\r\n        <ProfileFriends />\r\n      </div>\r\n      <div className={css.right}>\r\n        <ProfileInfo\r\n          profile={props.profilePage.profile}\r\n          userStatus={props.profilePage.userStatus}\r\n          isOwner={props.profilePage.isOwner}\r\n          updateUserStatus={props.updateUserStatus}\r\n        />\r\n\r\n        <ProfilePosts\r\n          posts={props.profilePage.posts}\r\n          profile={props.profilePage.profile}\r\n          addPost={props.addPost}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport Profile from \".\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\n\r\nimport {\r\n  setUserProfile,\r\n  getUserStatus,\r\n  updateUserStatus,\r\n  uploadPhoto,\r\n  addPost\r\n} from \"../.././../redux/profileReducer\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { useEffect } from \"react\";\r\nimport { getProfilePage } from \"../../../redux/profileSelectors\";\r\nimport { getAuthUserId } from \"../../../redux/authSelectors\";\r\nimport { getOwner } from \"../../../redux/ownerSelectors\";\r\n\r\nconst ProfileContainer = props => {\r\n  useEffect(() => {\r\n    let userId = props.match.params.userId;\r\n    if (!userId) {\r\n      userId = props.authorizedUser;\r\n    }\r\n    props.setUserProfile(userId);\r\n    props.getUserStatus(userId);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Profile {...props} />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    profilePage: getProfilePage(state),\r\n    authorizedUser: getAuthUserId(state),\r\n    owner: getOwner(state)\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  setUserProfile,\r\n  getUserStatus,\r\n  updateUserStatus,\r\n  uploadPhoto,\r\n  addPost\r\n};\r\n\r\n//Redirect при перезагрузке страницы получает изначально фолс и отправляет на страницу логина но потом в стейте isAuth становится тру и почему-то компонент не перерисовывается и даже при том, что я залогинен на сайте и возвращает тру остается страница логина и чтобы перейти на профиль надо выбрать профильв меню //проблема исправлена инициализацией приложения\r\nexport default compose(\r\n  withAuthRedirect,\r\n  withRouter,\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(ProfileContainer);\r\n","import React from \"react\";\r\nimport Preloader from \"../common/Preloader\";\r\n\r\nconst withSuspense = Component => {\r\n  return props => (\r\n    <React.Suspense fallback={<Preloader />}>\r\n      <Component {...props} />\r\n    </React.Suspense>\r\n  );\r\n};\r\nexport default withSuspense;\r\n","import React, { useEffect } from \"react\";\r\nimport css from \"./style.module.css\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nimport Dialogs from \"./Dialogs\";\r\nimport News from \"./News\";\r\nimport ProfileContainer from \"./Profile/indexContainer\";\r\nimport withSuspense from \"../hoc/withSuspense\";\r\n\r\nconst UsersContainer = React.lazy(() => import(\"./Users/indexContainer\"));\r\nconst Login = React.lazy(() => import(\"../Login\"));\r\nconst EditPI = React.lazy(() => import(\"./Profile/ProfileInfo/EditPI\"));\r\n\r\nconst Content = ({ isAuth, requireOwnerData }) => {\r\n  useEffect(() => {\r\n    if (isAuth) {\r\n      requireOwnerData();\r\n    }\r\n  }, [isAuth, requireOwnerData]);\r\n\r\n  return (\r\n    <main className={css.content}>\r\n      <Route exact path=\"/\" render={() => <ProfileContainer />} />\r\n      <Route\r\n        exact\r\n        path=\"/profile/:userId?\"\r\n        render={() => <ProfileContainer />}\r\n      />\r\n      <Route path=\"/dialogs\" render={() => <Dialogs />} />\r\n      <Route path=\"/news\" render={() => <News />} />\r\n      <Route path=\"/users\" render={withSuspense(UsersContainer)} />\r\n      <Route path=\"/login\" render={withSuspense(Login)} />\r\n      <Route path=\"/editPIForm\" render={withSuspense(EditPI)} />\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Content;\r\n","import React, { useEffect } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport css from \"./style.module.css\";\r\n\r\nconst SubMenu = ({ logout, toggleShowSubMenu }) => {\r\n  const closeSubMenu = e => {\r\n    const target = e.target.closest(\"[data-name=subMenu]\");\r\n    if (!target) toggleShowSubMenu();\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", closeSubMenu);\r\n    return () => document.removeEventListener(\"click\", closeSubMenu);\r\n  });\r\n\r\n  return (\r\n    <div className={css.subMenu} data-name=\"subMenu\">\r\n      <NavLink to=\"/\" className={css.item}>\r\n        Моя страница\r\n      </NavLink>\r\n      <div onClick={logout} className={css.item}>\r\n        Выйти\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default SubMenu;\r\n","import React, { useState } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport css from \"./style.module.css\";\r\n\r\nimport Preloader from \"../../common/Preloader\";\r\nimport Avatar from \"../../common/Avatar\";\r\nimport SubMenu from \"./SubMenu\";\r\n\r\nconst OwnerBlock = ({ isAuth, logout, ownerData }) => {\r\n  const [isShownSubMenu, setIsShownSubMenu] = useState(false);\r\n\r\n  if (!ownerData)\r\n    return (\r\n      <div className={css.ownerBlock}>\r\n        <Preloader />\r\n      </div>\r\n    );\r\n\r\n  const { fullName } = ownerData;\r\n\r\n  const toggleShowSubMenu = () => {\r\n    setIsShownSubMenu(!isShownSubMenu);\r\n  };\r\n\r\n  return (\r\n    <div className={css.ownerBlock} onClick={toggleShowSubMenu}>\r\n      {isAuth && (\r\n        <>\r\n          <span className={css.fullname}>{fullName}</span>\r\n          <Avatar size={\"small\"} img={\"owner\"} />\r\n          <div className={css.arrow}></div>\r\n          {isShownSubMenu && (\r\n            <SubMenu logout={logout} toggleShowSubMenu={toggleShowSubMenu} />\r\n          )}\r\n        </>\r\n      )}\r\n      {!isAuth && (\r\n        <NavLink to=\"/login\" className={css.toLogin}>\r\n          Login\r\n        </NavLink>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OwnerBlock;\r\n","import React from \"react\";\r\nimport css from \"./style.module.css\";\r\nimport OwnerBlock from \"./OwnerBlock\";\r\n\r\nconst Header = props => {\r\n  return (\r\n    <>\r\n      <div className={css.back}></div>\r\n      <header className={css.header}>\r\n        <div className={css.content}>\r\n          <div className=\"headerLogo\">\r\n            <a className={css.logo} href=\"/\">\r\n              ВК\r\n            </a>\r\n          </div>\r\n          <OwnerBlock {...props} />\r\n        </div>\r\n      </header>\r\n    </>\r\n  );\r\n};\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Header from \"./index\";\r\nimport { logout } from \"../../redux/authReducer\";\r\n\r\nconst HeaderContainer = props => {\r\n  return <Header {...props} />;\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    userId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n    ownerData: state.owner.ownerData\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  logout\r\n})(HeaderContainer);\r\n","import { authentication } from \"./authReducer\";\r\n\r\nconst initialState = {\r\n  initializeSuccessed: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SUCCESS_INITIALIZE:\r\n      return { ...state, initializeSuccessed: true };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nconst SUCCESS_INITIALIZE = \"app/SUCCESS_INITIALIZE\";\r\n\r\nconst successInitialize = () => {\r\n  return { type: SUCCESS_INITIALIZE };\r\n};\r\n\r\n//Initialization is ready, if I need to add some thunks I've to add it to Promise.all to complete the main function after thunks\r\nexport const initialize = () => {\r\n  return dispatch => {\r\n    const authP = dispatch(authentication());\r\n    Promise.all([authP]).then(() => {\r\n      dispatch(successInitialize());\r\n    });\r\n  };\r\n};\r\n\r\nexport default appReducer;\r\n","import React, { useEffect } from \"react\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport css from \"./style.module.css\";\r\nimport { Provider, connect } from \"react-redux\";\r\n\r\nimport LeftSidebar from \"../LeftSidebar\";\r\nimport Content from \"../Content\";\r\nimport HeaderContainer from \"../Header/indexContainer\";\r\nimport { initialize } from \"../../redux/appReducer\";\r\nimport Preloader from \"../common/Preloader\";\r\nimport { requireOwnerData } from \"../../redux/ownerReducer\";\r\n\r\nconst App = ({\r\n  store,\r\n  initialize,\r\n  initializeSuccessed,\r\n  isAuth,\r\n  requireOwnerData\r\n}) => {\r\n  useEffect(() => {\r\n    initialize();\r\n  }, [initialize, initializeSuccessed]);\r\n\r\n  if (!initializeSuccessed) return <Preloader />;\r\n  return (\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <div className={css.wrapper}>\r\n          <HeaderContainer />\r\n          <LeftSidebar />\r\n          <Content isAuth={isAuth} requireOwnerData={requireOwnerData} />\r\n        </div>\r\n      </Provider>\r\n    </HashRouter>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    initializeSuccessed: state.app.initializeSuccessed,\r\n    isAuth: state.auth.isAuth\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { initialize, requireOwnerData })(App);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\n\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\nimport ownerReducer from \"./ownerReducer\";\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n  owner: ownerReducer\r\n});\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  composeWithDevTools(applyMiddleware(thunkMiddleware))\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport store from \"./redux/store\";\n\nwindow.store = store; // Для отслеживания временно\n\nReactDOM.render(<App store={store} />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2E39R\",\"goBack\":\"style_goBack__28Ake\",\"backArrow\":\"style_backArrow__1-yA0\",\"goBackCaption\":\"style_goBackCaption__2cjKd\",\"info\":\"style_info__2xtHK\",\"nameLink\":\"style_nameLink__YO6t_\",\"name\":\"style_name__mSxKh\",\"photoBox\":\"style_photoBox__1Hxea\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"style_info__2zGOs\",\"header\":\"style_header__2IZ60\",\"navlink\":\"style_navlink__1Sz-C\",\"content\":\"style_content__2xxlQ\",\"item\":\"style_item__726aB\",\"left\":\"style_left__3t_f6\",\"right\":\"style_right__3ABm0\"};","import { profileAPI } from \"../api/api\";\r\nimport { requireOwnerData } from \"./ownerReducer\";\r\nimport { reset } from \"redux-form\";\r\n\r\nconst ADD_POST = \"profile/ADD_POST\";\r\nconst SET_USER_PROFILE = \"profile/SET_USER_PROFILE\";\r\nconst SET_USER_STATUS = \"profile/SET_USER_STATUS\";\r\nconst DELETE_POST = \"profile/DELETE_POST\";\r\nconst TOGGLE_IS_PI_UPDATED = \"profile/TOGGLE_IS_PI_UPDATED\";\r\nconst SET_PHOTO = \"profile/SET_PHOTO\";\r\nconst SET_IS_OWNER = \"profile/SET_IS_OWNER\";\r\n\r\nconst dateFormatter = new Intl.DateTimeFormat(\"ru\", {\r\n  year: \"numeric\",\r\n  month: \"short\",\r\n  day: \"numeric\"\r\n});\r\n\r\nconst initialState = {\r\n  posts: [\r\n    {\r\n      id: 1,\r\n      date: \"2 фев. 2019 г.\",\r\n      likes: 2,\r\n      body:\r\n        \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla  voluptatum, natus mollitia optio est blanditiis corrupti. In laborum omnis laboriosam blanditiis quod aspernatur error mollitia, ducimus hicimpedit, autem odit? Facere, nisi! Quos in quibusdam doloremque illumunde amet nobis aperiam!\"\r\n    },\r\n    {\r\n      id: 2,\r\n      date: \"3 фев. 2019 г.\",\r\n      likes: 17,\r\n      body:\r\n        \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla  voluptatum, natus mollitia optio est blanditiis corrupti. In laborum omnis laboriosam blanditiis quod aspernatur error mollitia, ducimus hicimpedit, autem odit? Facere, nisi! Quos in quibusdam doloremque illumunde amet nobis aperiam!\"\r\n    },\r\n    {\r\n      id: 3,\r\n      date: \"24 фев. 2019 г.\",\r\n      likes: 24,\r\n      body:\r\n        \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla  voluptatum, natus mollitia optio est blanditiis corrupti. In laborum omnis laboriosam blanditiis quod aspernatur error mollitia, ducimus hicimpedit, autem odit? Facere, nisi! Quos in quibusdam doloremque illumunde amet nobis aperiam!\"\r\n    },\r\n    {\r\n      id: 4,\r\n      date: \"30 авг. 2019 г.\",\r\n      likes: null,\r\n      body:\r\n        \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla  voluptatum, natus mollitia optio est blanditiis corrupti. In laborum omnis laboriosam blanditiis quod aspernatur error mollitia, ducimus hicimpedit, autem odit? Facere, nisi! Quos in quibusdam doloremque illumunde amet nobis aperiam!\"\r\n    }\r\n  ],\r\n  profile: { photos: { small: null, large: null } },\r\n  userStatus: \"\",\r\n  isPIUpdated: false,\r\n  isOwner: null\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      const newPost = {\r\n        id: state.posts[state.posts.length - 1].id + 1,\r\n        date: dateFormatter.format(new Date()),\r\n        likes: Math.floor(Math.random() * 100 + 1),\r\n        body: action.payload\r\n      };\r\n      return { ...state, posts: [...state.posts, newPost] };\r\n\r\n    case SET_USER_PROFILE:\r\n      return { ...state, profile: action.payload };\r\n    case SET_USER_STATUS:\r\n      return { ...state, userStatus: action.payload };\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(post => post.id !== action.payload)\r\n      };\r\n    case TOGGLE_IS_PI_UPDATED:\r\n      return { ...state, isPIUpdated: action.payload };\r\n    case SET_PHOTO:\r\n      return {\r\n        ...state,\r\n        profile: { ...state.profile, photos: action.payload }\r\n      };\r\n    case SET_IS_OWNER:\r\n      return { ...state, isOwner: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default profileReducer;\r\n\r\nexport const addPostAC = postBody => {\r\n  return { type: ADD_POST, payload: postBody };\r\n};\r\nexport const setUserProfileAC = profile => {\r\n  return { type: SET_USER_PROFILE, payload: profile };\r\n};\r\nexport const setUserStatusAC = newStatus => {\r\n  return { type: SET_USER_STATUS, payload: newStatus };\r\n};\r\nexport const deletePostAC = postId => {\r\n  return { type: DELETE_POST, payload: postId };\r\n};\r\nexport const toggleIsPIUpdated = isPIUpdated => {\r\n  return { type: TOGGLE_IS_PI_UPDATED, payload: isPIUpdated };\r\n};\r\nexport const setPhotoAC = photos => {\r\n  return { type: SET_PHOTO, payload: photos };\r\n};\r\nexport const setIsOwnerAC = isOwner => {\r\n  return { type: SET_IS_OWNER, payload: isOwner };\r\n};\r\n\r\nexport const addPost = postBody => dispatch => {\r\n  dispatch(addPostAC(postBody));\r\n  dispatch(reset(\"addPostForm\"));\r\n};\r\n\r\nexport const setUserProfile = userId => {\r\n  return (dispatch, getState) => {\r\n    profileAPI.getUserProfile(userId).then(data => {\r\n      dispatch(setUserProfileAC(data));\r\n      const ownerId = getState().auth.userId;\r\n      if (data.userId === ownerId) dispatch(setIsOwnerAC(true));\r\n      else dispatch(setIsOwnerAC(false));\r\n    });\r\n  };\r\n};\r\nexport const getUserStatus = userId => {\r\n  return dispatch => {\r\n    profileAPI.getUserStatus(userId).then(data => {\r\n      data === \"\"\r\n        ? dispatch(setUserStatusAC(\"изменить статус\"))\r\n        : dispatch(setUserStatusAC(data));\r\n    });\r\n  };\r\n};\r\nexport const updateUserStatus = newStatus => {\r\n  return dispatch => {\r\n    profileAPI.updateUserStatus(newStatus).then(data => {\r\n      if (data.resultCode === 0) dispatch(setUserStatusAC(newStatus));\r\n    });\r\n  };\r\n};\r\nexport const updateProfileInfo = info => async (dispatch, getState) => {\r\n  const response = await profileAPI.updateProfileInfo(info);\r\n  if (response.data.resultCode === 0) {\r\n    const userId = getState().auth.userId;\r\n    dispatch(setUserProfile(userId));\r\n    dispatch(toggleIsPIUpdated(true));\r\n  }\r\n};\r\nexport const uploadPhoto = photo => async (dispatch, getState) => {\r\n  const data = await profileAPI.uploadPhoto(photo);\r\n  const userId = getState().auth.userId;\r\n  if (data.resultCode === 0) {\r\n    dispatch(setPhotoAC(data.data.photos));\r\n    dispatch(requireOwnerData(userId));\r\n  }\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1I09S\",\"statusBox\":\"style_statusBox__xFUOT\",\"withoutHover\":\"style_withoutHover__1b1aK\",\"inputBox\":\"style_inputBox__F5cvb\",\"input\":\"style_input__2ek4o\",\"btnSave\":\"style_btnSave__2eywA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postHeader\":\"style_postHeader__3Npyw\",\"avaBox\":\"style_avaBox__ObxZo\",\"postInfo\":\"style_postInfo__1HghR\",\"name\":\"style_name__2GQkC\",\"date\":\"style_date__2bLE2\",\"postActions\":\"style_postActions__3lOUn\"};","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"auth/SET_USER_DATA\";\r\n\r\nconst initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isFetching: false,\r\n  isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default authReducer;\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => {\r\n  return { type: SET_USER_DATA, payload: { userId, email, login, isAuth } };\r\n};\r\n\r\nexport const authentication = () => {\r\n  return async dispatch => {\r\n    const data = await authAPI.me();\r\n    if (data.resultCode === 0) {\r\n      dispatch(\r\n        setAuthUserData(data.data.id, data.data.email, data.data.login, true)\r\n      );\r\n    }\r\n  };\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n  return async dispatch => {\r\n    const data = await authAPI.login(email, password, rememberMe);\r\n    if (data.resultCode === 0) {\r\n      dispatch(authentication());\r\n    } else {\r\n      const error =\r\n        data.messages.length === 0\r\n          ? \"Invalid Email or Password\"\r\n          : data.messages[0];\r\n      dispatch(stopSubmit(\"login\", { _error: error }));\r\n    }\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  return async dispatch => {\r\n    const data = await authAPI.logout();\r\n    if (data.resultCode === 0)\r\n      dispatch(setAuthUserData(null, null, null, false));\r\n  };\r\n};\r\n","export const getOwner = state => state.owner;\r\nexport const getOwnerData = state => state.owner.ownerData;\r\n","import { profileAPI } from \"../api/api\";\r\n\r\nconst initialState = {\r\n  isOwner: null,\r\n  ownerData: { id: null, fullName: null, photos: {} }\r\n};\r\n\r\nconst ownerReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_OWNER_DATA:\r\n      return { ...state, ownerData: { ...state.ownerData, ...action.payload } };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default ownerReducer;\r\n\r\nconst SET_OWNER_DATA = \"owner/SET_OWNER_DATA\";\r\n\r\nexport const setOwnerData = data => {\r\n  return { type: SET_OWNER_DATA, payload: data };\r\n};\r\n\r\nexport const requireOwnerData = () => async (dispatch, getState) => {\r\n  try {\r\n    const userId = getState().auth.userId;\r\n    const data = await profileAPI.getUserProfile(userId);\r\n    const ownerData = {\r\n      id: data.userId,\r\n      fullName: data.fullName,\r\n      photos: { ...data.photos }\r\n    };\r\n    dispatch(setOwnerData(ownerData));\r\n  } catch (err) {\r\n    console.warn(\"Error in requireOwnerData \\n\", err);\r\n  }\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/userPhoto.668f92e9.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1AMgJ\",\"textareaBox\":\"style_textareaBox__1fHui\",\"btnSend\":\"style_btnSend__tcF3W\",\"textareaContainer\":\"style_textareaContainer__3mvW0\",\"textarea\":\"style_textarea__2i3Xt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footerBox\":\"style_footerBox__15EKR\",\"item\":\"style_item__3Zbe7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__1GsPH\",\"like\":\"style_like__1GFiq\",\"likesAmount\":\"style_likesAmount__1892I\",\"comment\":\"style_comment__21qxD\",\"share\":\"style_share__3Z44U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ownerBlock\":\"style_ownerBlock__3pIPP\",\"fullname\":\"style_fullname__1teTW\",\"arrow\":\"style_arrow__3YhLs\",\"toLogin\":\"style_toLogin__9IFRi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLink\":\"style_navLink__14AoS\",\"icon\":\"style_icon__32Guc\",\"profileIcon\":\"style_profileIcon__3xI8B\",\"dialogsIcon\":\"style_dialogsIcon__1Hnck\",\"newsIcon\":\"style_newsIcon__3hiWp\",\"peopleIcon\":\"style_peopleIcon__15Hc5\",\"linkName\":\"style_linkName__2G7V3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2Ep8D\",\"header\":\"style_header__1tK_G\",\"content\":\"style_content__1n57L\",\"footer\":\"style_footer__3VZ3y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profilePhoto\":\"style_profilePhoto__3bX2e\",\"photo\":\"style_photo__3pw2A\",\"uploadMenu\":\"style_uploadMenu__1cemo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinnerDiv\":\"style_spinnerDiv__329vY\",\"spinner\":\"style_spinner__3Gpfp\",\"dottedDiv\":\"style_dottedDiv__2gH2i\",\"dotted\":\"style_dotted__14XTA\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.8e508b87.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputBox\":\"style_inputBox__36Vfc\",\"btnUpload\":\"style_btnUpload__22izV\",\"arrow\":\"style_arrow__1QE3D\",\"title\":\"style_title__1oTan\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__3pwx4\",\"friends\":\"style_friends__2rY8x\",\"amount\":\"style_amount__3Uk9c\",\"updates\":\"style_updates__nx1HB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__3D90z\",\"name\":\"style_name__2K7aF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__3ehz0\",\"content\":\"style_content__3eJ6I\",\"logo\":\"style_logo__203YL\",\"back\":\"style_back__q7Sc5\"};","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\n//HOC возвращающий возможность перенаправления на страницу логина если не аутентифицирован пользователь\r\nexport const withAuthRedirect = Component => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to=\"/login\" />;\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  const mapStateToProps = state => ({\r\n    isAuth: state.auth.isAuth\r\n  });\r\n\r\n  const connectedRedirectComponent = connect(mapStateToProps)(\r\n    RedirectComponent\r\n  );\r\n\r\n  return connectedRedirectComponent;\r\n};\r\n","export const getProfilePage = state => state.profilePage;\r\nexport const getProfile = state => state.profilePage.profile;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsBox\":\"style_dialogsBox__2csYY\",\"content\":\"style_content__1GZUW\",\"menu\":\"style_menu__3M8e8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgBox\":\"style_imgBox__1Ui8E\",\"small\":\"style_small__1lFbY\",\"middle\":\"style_middle__1LvDp\",\"large\":\"style_large__3xDCy\",\"img\":\"style_img__2TOeW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"style_profile__KZQMV\",\"left\":\"style_left__16Rt8\",\"right\":\"style_right__1wOMW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerBox\":\"style_headerBox__Oxlzx\",\"name\":\"style_name__1HfTi\",\"isOnline\":\"style_isOnline__2QZXA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"subMenu\":\"style_subMenu__338JF\",\"item\":\"style_item__4BxT2\"};"],"sourceRoot":""}